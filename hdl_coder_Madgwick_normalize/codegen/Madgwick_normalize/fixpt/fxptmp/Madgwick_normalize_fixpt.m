%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                          %
%       Generated by MATLAB 8.3, MATLAB Coder 2.6 and HDL Coder 3.4        %
%                                                                          %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%#codegen
function [ax,ay,az,aw] = Madgwick_normalize_fixpt(ax_1,ay_1,az_1,aw_1,rsr_result)

fm = fimath('RoundingMethod', 'Floor', 'OverflowAction', 'Wrap', 'ProductMode', 'FullPrecision', 'MaxProductWordLength', 128, 'SumMode', 'FullPrecision', 'MaxSumWordLength', 128);

aw = fi(aw_1, 1, 24, 12, fm);
ax = fi(ax_1, 1, 24, 12, fm);
ay = fi(ay_1, 1, 24, 12, fm);
az = fi(az_1, 1, 24, 12, fm);

%dotproduct = ax * ax + ay * ay + az * az + aw * aw;
%if dotproduct ~= 0
%    root = sqrt(dotproduct);
%    recipNorm = 1 / root;
ax = fi(ax*rsr_result, 1, 24, 12, fm);
ay = fi(ay*rsr_result, 1, 24, 12, fm);
az = fi(az*rsr_result, 1, 24, 12, fm);
aw = fi(aw*rsr_result, 1, 24, 12, fm);
end
